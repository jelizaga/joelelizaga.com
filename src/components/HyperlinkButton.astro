---
import { PropAliases } from 'solid-js/web';
import PopupButton from './PopupButton';
import Tooltip from './Tooltip.astro';

export interface Props {
  href?: string;
  target?: string;
  icon: string;
  tooltipContent: string;
  tooltipId: string;
  tooltipPosition?: string;
  popup?: string;
  type?: string;
}

const {
  href,
  target="_blank",
  icon,
  tooltipContent,
  tooltipId,
  tooltipPosition = "top",
  popup,
  type,
} = Astro.props as Props;

let triggeredPopup;
switch(popup) {
  case "ContactPopup":
    triggeredPopup = "ContactPopup";
    break;
}

let buttonClasses = "hyperlink-button button rounded tooltip";
switch(type) {
  case "primary":
    buttonClasses += " primary";
    break;
  case "red":
    buttonClasses += " red";
    break;
  case "green":
    buttonClasses += " green";
    break;
  case "blue":
    buttonClasses += " blue";
    break;
}
---

{href &&
  <a
    class={buttonClasses}
    href={href}
    target={target}
    aria-labelledby={tooltipId}
  >
    <i class={icon}></i>
    <Tooltip
      content={tooltipContent}
      id={tooltipId}
      position={tooltipPosition}
    />
  </a>
}

{popup &&
  <PopupButton
    client:load
    popup={popup}
    button={{
      icon: `${icon}`,
      tooltip: {
        id: `${tooltipId}`,
        content: `${tooltipContent}`,
        position: `${tooltipPosition}`
      }
    }}
    class="hyperlink-button rounded button tooltip"
  />
}